/*
 * XenForo core.min.js
 * Copyright 2010-2017 XenForo Ltd.
 * Released under the XenForo License Agreement: https://xenforo.com/license-agreement
 */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(d,l,k){d instanceof String&&(d=String(d));for(var a=d.length,b=0;b<a;b++){var c=d[b];if(l.call(k,c,b,d))return{i:b,v:c}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,l,k){d!=Array.prototype&&d!=Object.prototype&&(d[l]=k.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(d,l,k,a){if(l){k=$jscomp.global;d=d.split(".");for(a=0;a<d.length-1;a++){var b=d[a];b in k||(k[b]={});k=k[b]}d=d[d.length-1];a=k[d];l=l(a);l!=a&&null!=l&&$jscomp.defineProperty(k,d,{configurable:!0,writable:!0,value:l})}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(d,k){return $jscomp.findInternal(this,d,k).v}},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(d){return d?d:function(d,k,a){var b=this.length||0;0>k&&(k=Math.max(0,b+k));if(null==a||a>b)a=b;a=Number(a);0>a&&(a=Math.max(0,b+a));for(k=Number(k||0);k<a;k++)this[k]=d;return this}},"es6","es3");var XF=window.XF||{};void 0===window.jQuery&&(jQuery=$={});
!function(d,l,k){XF.activate?console.error("XF core has been double loaded"):(XF.browser||(XF.browser={browser:"",version:0,os:"",osVersion:null}),function(){var a=function(){var a=k.createElement("fake"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}();d.support.transition=a;d.support.transition&&(d.event.special.xfTransitionEnd={bindType:a.end,
delegateType:a.end,handle:function(a){if(d(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}});var b=d("html").attr("dir");a="normal";if(b&&"RTL"==b.toUpperCase()){b=d('<div style="width: 80px; height: 40px; font-size: 30px; overflow: scroll; white-space: nowrap; word-wrap: normal; position: absolute; top: -1000px; visibility: hidden; pointer-events: none">MMMMMMMMMM</div>');var c=b[0];b.appendTo("body");0<c.scrollLeft?a="inverted":(c.scrollLeft=-1,-1==c.scrollLeft&&(a="negative"));
b.remove()}d.support.scrollLeftType=a}(),d.fn.extend({onWithin:function(a,b,c){var e=this;d(k).on(a,function(a){d(a.target).has(e).length&&(c&&d(k).off(a),b(a))});return this},oneWithin:function(a,b){return this.onWithin(a,b,!0)},onPassive:function(a,b,c){if("object"==typeof a){for(var e in a)this.onPassive(e,a[e]);return this}return"string"!=typeof a||"function"!=typeof b||"undefined"!=typeof c?(console.warn("$.onPassive failure for %s.on%s, check parameters",this.get(0),a),this):-1!==a.indexOf(".")?
(console.warn("$.onPassive does not support namespaced events %s.on%s",this.get(0),a),!1):Modernizr.passiveeventlisteners?(this.get(0).addEventListener(a,b),this):this.on(a,b)},offPassive:function(a,b){this.get(0).removeEventListener(a,b);return this},xfFadeDown:function(a,b){this.filter(":hidden").hide().css("opacity",0);a=a||XF.config.speed.normal;this.find(".is-sticky").addClass("was-sticky").removeClass("is-sticky");this.slideDown({duration:a,easing:"swing",complete:function(){d(this).find(".was-sticky").addClass("is-sticky").removeClass("was-sticky");
b&&b();XF.layoutChange()},queue:!1}).animate({opacity:1},{duration:a,queue:!1});return this},xfFadeUp:function(a,b){a=a||XF.config.speed.normal;this.find(".is-sticky").addClass("was-sticky").removeClass("is-sticky");this.slideUp({duration:Math.max(a,a),easing:"swing",complete:function(){d(this).find(".was-sticky").addClass("is-sticky").removeClass("was-sticky");b&&b();XF.layoutChange()},queue:!1}).animate({opacity:0},{duration:a,queue:!1})},xfUniqueId:function(){var a=this.attr("id");a||(a="js-XFUniqueId"+
XF.counter,XF.counter++,this.attr("id",a));return a},findExtended:function(a){var b;if("string"===typeof a&&(b=a.match(/^<([^|]+)(\|([\s\S]+))?$/))){a=d.trim(b[1]);var c,e,f={up:"parent",next:"next",prev:"prev"},g=this;do if(c=a.match(/^:(up|next|prev)(\((\d+)\))?/)){c[2]||(c[3]=1);var h=f[c[1]];for(e=0;e<c[3];e++)(g=g[h]())||(g=d());a=d.trim(a.substr(c[0].length))}while(c);a.length&&(g=g.closest(a));g.length||(g=d());a=b[2]?d.trim(b[3]):"";return a.length?g.find(a):g}return this._find(a)},dimensions:function(a,
b){var c=this.offset();c={top:c.top,left:c.left};b=b?!0:!1;c.width=a?this.outerWidth(b):this.width();c.height=a?this.outerHeight(b):this.height();c.right=c.left+c.width;c.bottom=c.top+c.height;return c},viewport:function(a,b){a={width:a?this.outerWidth(b):this.width(),height:a?this.outerHeight(b):this.height(),left:this.scrollLeft(),top:this.scrollTop(),right:0,bottom:0,docWidth:d(k).width(),docHeight:d(k).height()};a.bottom=a.top+a.height;a.right=a.left+a.width;return a},hasFixableParent:function(){var a=
!1;this.parents().each(function(){var b=d(this);switch(b.css("position")){case "fixed":case "sticky":case "-webkit-sticky":return a=b,!1}if(b.data("sticky_kit"))return a=b,!1});return a},hasFixedParent:function(){var a=!1;this.parents().each(function(){var b=d(this);switch(b.css("position")){case "fixed":return a=b,!1;case "sticky":case "-webkit-sticky":var c=b.dimensions(!0),e=d(l).viewport(),f=b.css("top"),g=b.css("bottom");if("auto"!==f&&(f=c.top-e.top-parseInt(f,10),.5>=f&&-.5<=f)||"auto"!==g&&
(f=c.bottom-e.bottom-parseInt(g,10),.5>=f&&-.5<=f))return a=b,!1}});return a},onTransitionEnd:function(a,b){var c=!1,e=this;this.one("xfTransitionEnd",function(){if(!c)return c=!0,b.apply(this,arguments)});setTimeout(function(){c||e.trigger("xfTransitionEnd")},a+10);return this},autofocus:function(){var a=d(this);XF.isIOS()?a.is(":focus")||(a.addClass("is-focused"),a.on("blur",function(){a.removeClass("is-focused")})):a.focus();return this},normalizedScrollLeft:function(a){var b=d.support.scrollLeftType;
if("undefined"!==typeof a){for(var c=0;c<this.length;c++){var e=this[c],f=a;switch(b){case "negative":f=0<f?-f:0;break;case "inverted":f=e.scrollWidth-e.offsetWidth-f}e.scrollLeft=f}return this}a=this[0];if(!a)return 0;c=a.scrollLeft;switch(b){case "negative":return 0>c?-c:0;case "inverted":return b=a.scrollWidth-c-a.offsetWidth,.5>b?0:b;default:return c}}}),function(){function a(a){if(!d.support.transition)return 0;var b=a[0];if(!(b&&b instanceof l.Element))return 0;a=a.css("transition-duration");
b=0;a&&a.match(/^(\+|-|)([0-9]*\.[0-9]+|[0-9]+)(ms|s)/i)&&(b=("-"==RegExp.$1?-1:1)*parseFloat(RegExp.$2)*("ms"==RegExp.$3.toLowerCase()?1:1E3));return b}function b(a,b,c){var e=[];d.isFunction(b)&&(b=b.call(a[0],0,a[0].className));b=d.trim(b).split(/\s+/);a=" "+a[0].className+" ";for(var f,h=0;h<b.length;h++)((f=0<=a.indexOf(" "+b[h]+" "))&&!c||!f&&c)&&e.push(b[h]);return e.join(" ")}function c(c,g,h,n,m){m=m?0:a(c);var f=g?"addClass":"removeClass",k=g?"removeClass":"addClass";g=b(c,h,g?!0:!1);var q=
c[0],l=function(){n&&setTimeout(function(){n.call(q,d.Event("xfTransitionEnd"))},0)};if(g.length)if(0>=m)c[f](g),l();else{c.hasClass("is-transitioning")&&c.trigger("xfTransitionEnd");c.addClass("is-transitioning");if(c.css("transition-property").match(/(^|\s|,)-xf-(width|height)($|\s|,)/)){l=RegExp.$2;var r=e[l],x=c.css(r),z=x[l],p="transition."+l,v=c.data(p),B=q.style,w=B.transition||B["-webkit-transition"]||B["-moz-transition"]||B["-o-transition"]||"",y;if(void 0===v)for(v={},y=0;y<r.length;y++)v[r[y]]=
B[r[y]]||"";if(0==c[l]())for(y in z="0",x)x.hasOwnProperty(y)&&(x[y]="0");c.data(p,v).css("transition","none")[f](g);r=c.css(r);v=r[l];if(0==c[l]())for(y in v="0",r)r.hasOwnProperty(y)&&(r[y]="0");c[k](g);if(z!=v){var C=n;c.css(x);q.offsetWidth;c.css("transition",w).css(r);n=function(){c.css(c.data(p)).removeData(p);C&&C.apply(this,arguments)}}else c.css("transition",w)}c.onTransitionEnd(m,function(){c.removeClass("is-transitioning");n&&n.apply(this,arguments)});c[f](h)}else l()}var e={height:"height padding-top padding-bottom margin-top margin-bottom border-top-width border-bottom-width".split(" "),
width:"width padding-left padding-right margin-left margin-right border-right-width border-left-width".split(" ")};d.fn.addClassTransitioned=function(a,b,e){for(var f=this.length,h=0;h<f;h++)c(d(this[h]),!0,a,b,e);return this};d.fn.removeClassTransitioned=function(a,b,e){for(var f=this.length,h=0;h<f;h++)c(d(this[h]),!1,a,b,e);return this};d.fn.toggleClassTransitioned=function(a,b,e,n){"boolean"!==typeof b&&"undefined"===typeof e&&(e=b,b=null);for(var f="boolean"===typeof b,h=this.length,g=0;g<h;g++){var k=
d(this[g]);var l=f?b:k.hasClass(a)?!1:!0;c(k,l,a,e,n)}return this}}(),d.extend(XF,{config:{userId:null,ignored:[],csrf:null,time:{now:0,today:0,todayDow:0},cookie:{path:"/",domain:"",prefix:"xf_"},url:{fullBase:"/",basePath:"/",css:"",keepAlive:""},css:{},js:{},jsState:{},speed:{xxfast:50,xfast:100,fast:200,normal:400,slow:600},job:{manualUrl:""},borderSizeFeature:"3px",enableRtnProtect:!0,enableFormSubmitSticky:!0,visitorCounts:{conversations_unread:0,alerts_unread:0,title_count:!1,icon_indicator:!1},
uploadMaxFilesize:null},counter:1,phrases:{},getApp:function(){return d("html").data("app")||null},getKeyboardInputs:function(){return"input:not([type=radio], [type=checkbox], [type=submit], [type=reset]), textarea"},onPageLoad:function(){d(k).trigger("xf:page-load-start");XF.NavDeviceWatcher.initialize();XF.ActionIndicator.initialize();XF.DynamicDate.initialize();XF.KeepAlive.initialize();XF.LinkWatcher.initLinkProxy();XF.LinkWatcher.initExternalWatcher();XF.BbBlockExpand.watch();XF.ScrollButtons.initialize();
XF.KeyboardShortcuts.initialize();XF.IgnoreWatcher.initializeHash();XF.Click.watch();XF.config.jsState=XF.applyJsState({},XF.config.jsState);XF.activate(k);d(k).on("ajax:complete",function(a,b,c){(a=b.responseJSON)&&a.visitor&&XF.updateVisitorCounts(a.visitor,!0)});d(k).on("ajax:before-success",function(a,b,c,e){(b=e.responseJSON)&&b&&b.job&&(a=b.job,a.manual&&XF.JobRunner.runManual(a.manual),a.auto&&setTimeout(XF.JobRunner.runAuto,0))});d(k).on("keyup","a:not([href])",function(a){13==a.which&&d(a.currentTarget).click()});
d("html[data-run-jobs]").length&&setTimeout(XF.JobRunner.runAuto,100);XF.updateVisitorCounts(XF.config.visitorCounts,!0);XF.CrossTab.on("visitorCounts",function(a){XF.updateVisitorCounts(a,!1)});XF.pageLoadScrollFix();setTimeout(function(){d("[data-load-auto-click]").first().click()},100);d(k).trigger("xf:page-load-complete")},addExtraPhrases:function(a){d(a).find("script.js-extraPhrases").each(function(){var a=d(this);try{var c=d.parseJSON(a.html())||{};d.extend(XF.phrases,c)}catch(e){console.error(e)}a.remove()})},
phrase:function(a,b,c){var e=XF.phrases[a];b&&(e=XF.stringTranslate(e,b));return e||c||a},_isRtl:null,isRtl:function(){if(null===XF._isRtl){var a=d("html").attr("dir");XF._isRtl=a&&"RTL"==a.toUpperCase()}return XF._isRtl},rtlFlipKeyword:function(a){if(!XF.isRtl())return a;switch(a.toLowerCase()){case "left":return"right";case "right":return"left";default:return a}},isMac:function(){return-1!=navigator.userAgent.indexOf("Mac OS")},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&
!l.MSStream},log:function(){console.log&&console.log.apply&&console.log.apply(console,arguments)},findRelativeIf:function(a,b){if(!a)throw Error("No selector provided");var c;if(c=a.match(/^(<|>|\|)/)){if("<"==c[1])return b.findExtended(a);"|"==c[1]&&(a=a.substr(1));return b.find(a)}return d(a)},layoutChange:function(){XF._layoutChangeTriggered||(XF._layoutChangeTriggered=!0,setTimeout(function(){XF._layoutChangeTriggered=!1;d(k.body).trigger("sticky_kit:recalc").trigger("xf:layout")},0))},_layoutChangeTriggered:!1,
updateAvatars:function(a,b,c){d(".avatar").each(function(){var e=d(this),f=e.find("img, span").first(),g="avatar-u"+a+"-",h=e.hasClass("avatar--updateLink")?e.find(".avatar-update"):null;if((c||!f.hasClass(".js-croppedAvatar"))&&f.is('[class^="'+g+'"]')){if(f.hasClass(g+"s"))f=d(b.s);else if(f.hasClass(g+"m"))f=d(b.m);else if(f.hasClass(g+"l"))f=d(b.l);else if(f.hasClass(g+"o"))f=d(b.o);else return;e.html(f.html());f.hasClass("avatar--default")?(e.addClass("avatar--default"),f.hasClass("avatar--default--dynamic")?
e.addClass("avatar--default--dynamic"):f.hasClass("avatar--default--text")?e.addClass("avatar--default--text"):f.hasClass("avatar--default--image")&&e.addClass("avatar--default--image")):e.removeClass("avatar--default avatar--default--dynamic avatar--default--text avatar--default--image");e.attr("style",f.attr("style"));h&&e.append(h)}})},updateVisitorCounts:function(a,b){a&&"public"==XF.getApp()&&(XF.badgeCounterUpdate(d(".js-badge--conversations"),a.conversations_unread),XF.badgeCounterUpdate(d(".js-badge--alerts"),
a.alerts_unread),XF.config.visitorCounts.title_count&&XF.pageTitleCounterUpdate(a.total_unread),XF.config.visitorCounts.icon_indicator&&XF.faviconUpdate(a.total_unread),b&&XF.CrossTab.trigger("visitorCounts",a))},badgeCounterUpdate:function(a,b){a.length&&(a.attr("data-badge",b),"0"!=String(b)?a.addClass("badgeContainer--highlighted"):a.removeClass("badgeContainer--highlighted"))},pageTitleCache:"",pageTitleCounterUpdate:function(a){var b=k.title;""===XF.pageTitleCache&&(XF.pageTitleCache=b);b!==
XF.pageTitleCache&&"("===b.charAt(0)&&(b=XF.pageTitleCache);a=(0<a?"("+a+") ":"")+b;a!=k.title&&(k.title=a)},favIconAlertShown:!1,faviconUpdate:function(a){var b=0<a;if(b!=XF.favIconAlertShown){var c=d('link[rel~="icon"]');c.length&&Modernizr.canvas&&(XF.favIconAlertShown=b,c.each(function(b,c){var e=d(c);b=e.attr("href");c=e.data("original-href");0<a?(c||e.data("original-href",b),d("<img />").on("load",function(){e.attr("href",XF.faviconDraw(this))}).attr("src",b)):c&&e.attr("href",c).removeData("original-href")}))}},
faviconDraw:function(a){var b=a.naturalWidth,c=a.naturalHeight;c=d("<canvas />").attr({width:b,height:c});var e=c[0].getContext("2d"),f=b/(32/6),g=2*Math.PI;e.drawImage(a,0,0);e.beginPath();e.arc(f,f,f,0,g,!1);e.fillStyle="#E03030";e.fill();e.lineWidth=b/16;e.strokeStyle="#eaeaea";e.stroke();e.closePath();return c[0].toDataURL("image/png")},unparseBbCode:function(a){var b=d(k.createElement("div"));b.html(a);b.find(".js-noSelectToQuote").each(function(){d(this).remove()});d.each(["B","I","U"],function(a,
e){b.find(e).each(function(){d(this).replaceWith("["+e+"]"+d(this).html()+"[/"+e+"]")})});b.find(".bbCodeBlock--quote").each(function(){var a=d(this),b=a.find(".bbCodeBlock-expandContent");b.length?a.replaceWith("<div>[QUOTE]"+b.html()+"[/QUOTE]</div>"):b.find(".bbCodeBlock-expand").remove()});b.find(".bbCodeBlock--code").each(function(){var a=d(this);if(!a.find(".bbCodeCode"))return!0;var b=a.find(".bbCodeCode code"),f=b.attr("class").match(/language-(\S+)/)[1];b.removeAttr("class");a.replaceWith(b.first().attr("data-language",
f||"none"))});b.find('div[style*="text-align"]').each(function(){var a=d(this).css("text-align").toUpperCase();d(this).replaceWith("["+a+"]"+d(this).html()+"[/"+a+"]")});b.find(".bbCodeSpoiler").each(function(){var a="";var b=d(this).find(".bbCodeSpoiler-button");if(b.length){var f=d(this).find(".bbCodeSpoiler-content").html();b=b.find(".bbCodeSpoiler-button-title");b.length&&(a='="'+b.text()+'"');d(this).replaceWith("[SPOILER"+a+"]"+f+"[/SPOILER]")}});return b.html()},hideOverlays:function(){d.each(XF.Overlay.cache,
function(a,b){b.hide()})},hideTooltips:function(){d.each(XF.TooltipTrigger.cache,function(a,b){b.hide()})},loadedScripts:{},loadScript:function(a,b){if(XF.loadedScripts.hasOwnProperty(a))return!1;XF.loadedScripts[a]=!0;return d.ajax({url:a,dataType:"script",cache:!0,global:!1,success:b})},loadScripts:function(a,b){function c(){n--;0===n&&b&&b()}function e(){for(var a;m[0]&&"loaded"==m[0].readyState;)a=m.shift(),a.onreadystatechange=null,a.onerror=null,h.appendChild(a),c()}var f=k.scripts[0],g="async"in
f;f=f.readyState;var h=k.head,n=0,m=[],t;for(t in a)if(a.hasOwnProperty(t)){var l=a[t];XF.loadedScripts[l]||(XF.loadedScripts[l]=!0,n++,g?function(a){var b=d("<script>").prop({src:a,async:!1});b.on("load error",function(a){b.off("load error");c()});h.appendChild(b[0])}(l):f?function(a){var b=k.createElement("script");m.push(b);b.onreadystatechange=e;b.onerror=function(){b.onreadystatechange=null;b.onerror=null;c()};b.src=a}(l):d.ajax({url:l,dataType:"script",cache:!0,global:!1}).always(c))}!n&&b&&
b()},ajax:function(a,b,c,e,f){"function"==typeof c&&void 0===e&&(e=c,c={});c=c||{};var g=!0,h=!0,n=!0;f&&(f.skipDefault&&(h=g=!1,delete f.skipDefault),f.skipDefaultSuccessError&&(h=!1,delete f.skipDefaultSuccessError),f.skipDefaultSuccess&&(g=!1,delete f.skipDefaultSuccess),f.skipError&&(n=!1,delete f.skipError));var m=function(a,b,c){d(k).trigger("ajax:before-success",[a,b,c]);h&&XF.defaultAjaxSuccessError(a,b,c)||g&&XF.defaultAjaxSuccess(a,b,c)||e&&e(a,b,c)},t=function(a,b,c){if(a.readyState)try{var e=
d.parseJSON(a.responseText);m(e,"",a)}catch(z){XF.defaultAjaxError(a,b,c)}};c=XF.dataPush(c,"_xfRequestUri",l.location.pathname+l.location.search);c=XF.dataPush(c,"_xfWithData",1);XF.config.csrf&&(c=XF.dataPush(c,"_xfToken",XF.config.csrf));var u=l.FormData&&c instanceof FormData;a=d.extend(!0,{cache:!0,data:c||{},dataType:"json",beforeSend:function(a,b){d(k).trigger("ajax:send",[a,b])},error:n?t:null,success:m,complete:function(a,b){d(k).trigger("ajax:complete",[a,b])},timeout:3E4,type:a,url:b,processData:u?
!1:!0},f);u&&(a.contentType=!1);switch(a.dataType){case "html":case "json":case "xml":a.data=XF.dataPush(a.data,"_xfResponseType",a.dataType)}"json"!=a.dataType&&(g=!1);return d.ajax(a)},dataPush:function(a,b,c){a&&"string"!=typeof a?void 0!==a[0]?a.push({name:b,value:c}):l.FormData&&a instanceof FormData?a.append(b,c):a[b]=c:(a=String(a),a+="&"+encodeURIComponent(b)+"="+encodeURIComponent(c));return a},defaultAjaxSuccessError:function(a,b,c){return"object"!=typeof a?(XF.alert("Response was not JSON."),
!0):a.errorHtml?(XF.setupHtmlInsert(a.errorHtml,function(a,b){b=b.h1||b.title||XF.phrase("oops_we_ran_into_some_problems");XF.overlayMessage(b,a)}),!0):a.errors?(XF.alert(a.errors),!0):a.exception?(XF.alert(a.exception),!0):!1},defaultAjaxSuccess:function(a,b,c){a&&"ok"==a.status&&a.message&&XF.flashMessage(a.message,3E3);return!1},defaultAjaxError:function(a,b,c){switch(b){case "abort":return;case "timeout":XF.alert(XF.phrase("server_did_not_respond_in_time_try_again"));return;case "notmodified":case "error":if(!a||
!a.responseText)return}console.error("PHP: "+a.responseText);XF.alert(XF.phrase("oops_we_ran_into_some_problems_more_details_console"))},activate:function(a){XF.addExtraPhrases(a);XF.IgnoreWatcher.refresh(a);XF.Element.initialize(a);XF.DynamicDate.refresh(a);XF.BbBlockExpand.checkSizing(a);XF.KeyboardShortcuts.initializeElements(a);var b=a instanceof d?a.get(0):a;l.FB&&setTimeout(function(){FB.XFBML.parse(b)},0);d(k).trigger("xf:reinit",[a])},getDefaultFormData:function(a,b,c,e){var f;b&&b.length&&
b.attr("name")&&(f=b.attr("name"));c&&"multipart/form-data"===a.attr("enctype")&&console.error("JSON serialized forms do not support the file upload-style enctype.");if(l.FormData&&!c)e=new FormData(a[0]),f&&e.append(f,b.attr("value"));else{if(c){a=a.is("form")?d(a[0].elements):a;var g,h=[],n=[];if(e){"string"===typeof e&&(e=e.split(","));var m=[];d.each(e,function(a,b){"number"===typeof a?m.push(XF.regexQuote(d.trim(b))):m.push(XF.regexQuote(d.trim(a)))});m.length&&(g=new RegExp("^("+m.join("|")+
")(\\[|$)"))}a.each(function(a,b){(a=b.name)&&"_xf"!==a.substring(0,3)?!g||g.test(a)?h.push(b):n.push(b):n.push(b)});e=d(n).serializeArray();a=d(h).serializeJSON();e.unshift({name:c,value:JSON.stringify(a)})}else e=a.serializeArray();f&&e.push({name:f,value:b.attr("value")})}return e},scriptMatchRegex:/<script([^>]*)>([\s\S]*?)<\/script>/ig,setupHtmlInsert:function(a,b,c){if("string"===typeof a||a instanceof d)a={content:a};if("object"==typeof a&&a.content){var e=arguments;XF.Loader.load(a.js,a.css,
function(){var c,g=a.jsInline||[],h=a.content,n="string"==typeof h,m=e[2]?!0:!1;if(a.cssInline)for(c=0;c<a.cssInline.length;c++)d("<style>"+a.cssInline[c]+"</style>").appendTo("head");if(n){var k;h=d.trim(h);if(!m)for(;c=XF.scriptMatchRegex.exec(h);){var u=!1;if(k=c[1].match(/(^|\s)type=("|'|)([^"' ;]+)/))switch(k[3].toLowerCase()){case "text/javascript":case "text/ecmascript":case "application/javascript":case "application/ecmascript":u=!0}else u=!0;u&&(g.push(c[2]),h=h.replace(c[0],""))}h=h.replace(/<noscript>([\s\S]*?)<\/noscript>/ig,
"")}var q=d(n?d.parseHTML(h,null,m):h);2<=l.devicePixelRatio&&XF.isIOS()&&q.find("img[srcset]").each(function(){d(this).prop("src",this.getAttribute("srcset").replace(/\s+2x$/i,""))});q.find("noscript").empty().remove();if(b instanceof d){var A=b;b=function(a){A.html(a)}}if("function"!==typeof b)console.error("onReady was not a function");else{var r=!1;h=function(b){if(!r){r=!0;b||XF.activate(q);for(b=0;b<g.length;b++)d.globalEval(g[b]);a.jsState&&(XF.config.jsState=XF.applyJsState(XF.config.jsState,
a.jsState))}};!1!==b(q,a,h)&&h()}})}else console.error("Was not provided an object or HTML content")},alert:function(a,b,c,e){var f=a;"object"==typeof a&&(f="<ul>",d.each(a,function(a,b){f+="<li>"+b+"</li>"}),f+="</ul>",f='<div class="blockMessage">'+f+"</div>");b||(b="error");if(!c)switch(b){case "error":c=XF.phrase("oops_we_ran_into_some_problems");break;default:c=""}return XF.overlayMessage(c,f)},getOverlayHtml:function(a){var b={dismissible:!0,title:null};d.isPlainObject(a)&&(b=d.extend({},b,
a),a.html&&(a=a.html));if("string"==typeof a)a=d(d.parseHTML(a));else if(!(a instanceof d))throw Error("Can only create an overlay with html provided as a string or jQuery object");if(!a.is(".overlay")){var c=b.title;if(!c){var e=a.find(".overlay-title");e.length&&(c=e.contents(),e.remove())}c||(c=XF.htmlspecialchars(d("title").text()));e=a.find(".overlay-content");e.length&&(a=e);e=d('<div class="overlay" tabindex="-1"><div class="overlay-title"></div><div class="overlay-content"></div></div>');
var f=e.find(".overlay-title");f.html(c);b.dismissible&&f.prepend('<a class="overlay-titleCloser js-overlayClose" role="button" tabindex="0" aria-label="'+XF.phrase("close")+'"></a>');e.find(".overlay-content").html(a);a=e}a.appendTo("body");return a},overlayMessage:function(a,b){if("string"==typeof b)b=d(d.parseHTML(b));else if(!(b instanceof d))throw Error("Can only create an overlay with html provided as a string or jQuery object");b.is(".block, .blockMessage")||b.find(".block, .blockMessage").length||
(b=d('<div class="blockMessage" />').html(b));b=XF.getOverlayHtml({title:a,html:b});return XF.showOverlay(b,{role:"alertdialog"})},flashMessage:function(a,b,c){var e=d('<div class="flashMessage"><div class="flashMessage-content"></div></div>');e.find(".flashMessage-content").html(a);e.appendTo("body").addClassTransitioned("is-active");setTimeout(function(){e.removeClassTransitioned("is-active",function(){e.remove();c&&c()})},Math.max(500,b))},htmlspecialchars:function(a){return String(a).replace(/&/g,
"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},regexQuote:function(a){return(a+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!<>\|\:])/g,"\\$1")},stringTranslate:function(a,b){a=a.toString();for(var c in b)if(b.hasOwnProperty(c)){var e=new RegExp(XF.regexQuote(c,"g"));a=a.replace(e,b[c])}return a},stringHashCode:function(a){var b=0,c;if(0===a.length)return b;var e=0;for(c=a.length;e<c;e++){var d=a.charCodeAt(e);b=(b<<5)-b+d;b|=0}return b},canonicalizeUrl:function(a){if(a.match(/^[a-z]+:/i))return a;
if(0==a.indexOf("/")){var b;return(b=XF.config.url.fullBase.match(/^([a-z]+:(\/\/)?[^\/]+)\//i))?b[1]+a:a}return XF.config.url.fullBase+a},isRedirecting:!1,redirect:function(a){XF.isRedirecting=!0;if(XF.JobRunner.isManualJobRunning())return d(k).one("job:manual-complete",function(){XF.redirect(a)}),!1;a=XF.canonicalizeUrl(a);var b=l.location;if(a==b.href)b.reload();else{l.location=a;var c=a.split("#"),e=b.href.split("#");c[1]&&c[0]==e[0]&&b.reload()}return!0},getAutoCompleteUrl:function(){return"admin"==
XF.getApp()?XF.canonicalizeUrl("admin.php?users/find"):XF.canonicalizeUrl("index.php?members/find")},applyDataOptions:function(a,b,c){var e={},f;for(f in a)if(a.hasOwnProperty(f)&&(e[f]=a[f],b.hasOwnProperty(f))){var g=b[f];var h=typeof g;var n=!0;switch(typeof e[f]){case "string":"string"!=h&&(g=String(g));break;case "number":"number"!=h&&(g=Number(g),isNaN(g)&&(n=!1));break;case "boolean":if("boolean"!=h)switch(g){case "true":case "yes":case "on":case "1":g=!0;break;default:g=!1}}n&&(e[f]=g)}d.isPlainObject(c)&&
(e=d.extend(e,c));return e},watchInputChangeDelayed:function(a,b,c){var e=d(a),f=e.val(),g;c=c||200;e.onPassive({keyup:function(){clearTimeout(g);g=setTimeout(function(){var a=e.val();a!=f&&(f=a,b())},c)},paste:function(){setTimeout(function(){e.trigger("keyup")},0)}})},insertIntoEditor:function(a,b,c,e){return XF.modifyEditorContent(a,function(a){a.insertContent(b)},function(a){XF.insertIntoTextBox(a,c)},e)},replaceEditorContent:function(a,b,c,e){return XF.modifyEditorContent(a,function(a){a.replaceContent(b)},
function(a){XF.replaceIntoTextBox(a,c)},e)},clearEditorContent:function(a,b){b=XF.replaceEditorContent(a,"","",b);a.trigger("draft:sync");return b},modifyEditorContent:function(a,b,c,e){a=XF.getEditorInContainer(a,e);return a?XF.Editor&&a instanceof XF.Editor?(a.isBbCodeView()?(b=a.ed.bbCode.getTextArea(),c(b),b.trigger("autosize")):b(a),!0):a instanceof d&&a.is("textarea")?(c(a),a.trigger("autosize"),!0):!1:!1},getEditorInContainer:function(a,b){if(a.is(".js-editor")){if(b&&a.is(b))return null;b=
a}else{a=a.find(".js-editor");b&&(a=a.not(b));if(!a.length)return null;b=a.first()}return(a=XF.Element.getHandler(b,"editor"))?a:b.is("textarea")?b:null},focusEditor:function(a,b){a=XF.getEditorInContainer(a,b);return a?XF.Editor&&a instanceof XF.Editor?(a.scrollToCursor(),!0):a instanceof d&&a.is("textarea")?(a.autofocus(),!0):!1:!1},insertIntoTextBox:function(a,b){var c=a[0],e=c.scrollTop,d=c.selectionStart,g=c.selectionEnd,h=a.val(),n=h.substring(0,d);g=h.substring(g,h.length);a.val(n+b+g).trigger("autosize");
c.selectionStart=c.selectionEnd=d+b.length;c.scrollTop=e;a.autofocus()},replaceIntoTextBox:function(a,b){a.val(b).trigger("autosize")},getFixedOffsetParent:function(a){do{if("fixed"==a.css("position"))return a;a=a.parent()}while(a[0]&&1===a[0].nodeType);return d(k.documentElement)},getFixedOffset:function(a){var b=a.offset(),c=XF.getFixedOffsetParent(a);if(a.is("html"))return b;a=c.offset();return{top:b.top-a.top,left:b.left-a.left}},autoFocusWithin:function(a,b,c){b=a.find(b||"[autofocus]");if(!b.length){!b.length&&
XF.NavDeviceWatcher.isKeyboardNav()&&(b=a.find("a, button, :input, [tabindex]").filter(":visible").not(":disabled"));if(!b.length){var e=a.is("form")?a:a.find("form").first();e.length&&(b=e.find(":input, button").filter(":visible").not(":disabled"))}!b.length&&c&&c.length&&(b=c);b.length||(a.attr("tabindex","-1"),b=a)}a=[];c=b[0].parentNode;do a.push({el:c,left:c.scrollLeft,top:c.scrollTop});while(c=c.parentNode);b.first().autofocus();for(c=0;c<a.length;c++)b=a[c].el,b.scrollLeft!=a[c].left&&(b.scrollLeft=
a[c].left),b.scrollTop!=a[c].top&&(b.scrollTop=a[c].top)},bottomFix:function(a){var b=d(".js-bottomFixTarget").first();b?b.append(a):d(a).css({position:"fixed",bottom:0}).appendTo("body")},addFixedMessage:function(a,b){var c=d(d.parseHTML('<div class="fixedMessageBar"><div class="fixedMessageBar-inner"><div class="fixedMessageBar-message"></div><a class="fixedMessageBar-close" data-close="true" role="button" tabindex="0" aria-label="'+XF.phrase("close")+'"></a></div></div>'));c.find(".fixedMessageBar-message").html(a);
b&&(b.class&&(c.addClass(b.class),delete b.class),c.attr(b));c.on("click","[data-close]",function(){c.removeClassTransitioned("is-active",function(){c.remove()})});XF.bottomFix(c);c.addClassTransitioned("is-active")},_measureScrollBar:null,measureScrollBar:function(a,b){b="height"==b||"h"==b?"h":"w";if(a||null===XF._measureScrollBar){var c=d('<div class="scrollMeasure" />');c.appendTo(a||"body");var e=c[0];e={w:e.offsetWidth-e.clientWidth,h:e.offsetHeight-e.clientHeight};c.remove();a||(XF._measureScrollBar=
e);return e[b]}return XF._measureScrollBar[b]},windowHeight:function(){return XF.browser.ios||XF.browser.android?l.innerHeight:d(l).height()},pageLoadScrollFix:function(){if(l.location.hash){var a=!1,b=function(){if(!a){var b=l.location.hash.replace(/[^a-zA-Z0-9_-]/g,"");b=b?d("#"+b):d();b.length&&b.get(0).scrollIntoView(!0)}};"complete"==k.readyState?setTimeout(b,0):(setTimeout(function(){d(l).one("scroll",function(b){a=!0})},100),d(l).one("load",b))}},applyJsState:function(a,b){a=a||{};if(!b)return a;
for(var c in b)b.hasOwnProperty(c)&&!a[c]&&XF.jsStates.hasOwnProperty(c)&&XF.jsStates[c]()&&(a[c]=!0);return a},jsStates:{fbSdk:function(){d(k.body).append(d('<div id="fb-root" />'));l.fbAsyncInit=function(){FB.init({version:"v2.7",xfbml:!0})};XF.loadScript("https://connect.facebook.net/"+XF.getLocale()+"/sdk.js");return!0},twitter:function(){l.twttr=function(){var a=l.twttr||{};XF.loadScript("https://platform.twitter.com/widgets.js")&&(a._e=[],a.ready=function(b){a._e.push(b)});return a}();return!0},
flickr:function(){XF.loadScript("https://embedr.flickr.com/assets/client-code.js");return!0},instagram:function(){XF.loadScript("https://platform.instagram.com/"+XF.getLocale()+"/embeds.js",function(){d(k).on("xf:reinit",function(a,b){l.instgrm&&instgrm.Embeds.process(b instanceof d?b.get(0):b)})})},reddit:function(){XF.loadScript("https://embed.redditmedia.com/widgets/platform.js");return!0},reddit_comment:function(){XF.loadScript("https://www.redditstatic.com/comment-embed.js",function(){d(k).on("xf:reinit",
function(a,b){l.rembeddit&&rembeddit.init()})});return!0},imgur:function(){l.imgurEmbed||(l.imgurEmbed={tasks:d("blockquote.imgur-embed-pub").length});XF.loadScript("//s.imgur.com/min/embed-controller.js",function(){d(k).on("xf:reinit",function(a,b){imgurEmbed.tasks+=d("blockquote.imgur-embed-pub").length;for(a=0;a<imgurEmbed.tasks;a++)imgurEmbed.createIframe(),imgurEmbed.tasks--})});return!0},pinterest:function(){XF.loadScript("//assets.pinterest.com/js/pinit.js",function(){d(k).on("xf:reinit",function(a,
b){PinUtils.build(b instanceof d?b.get(0):b)})});return!0}},getLocale:function(){var a=d("html").attr("lang").replace("-","_");a||(a="en_US");return a},isEventTouchTriggered:function(a){return a?(a=a.originalEvent)&&a.sourceCapabilities?a.sourceCapabilities.firesTouchEvents:Modernizr.touchevents:Modernizr.touchevents},getElEffectiveZIndex:function(a){var b=parseInt(a.css("z-index"),10)||0;a.parents().each(function(a,e){a=parseInt(d(e).css("z-index"),10);a>b&&(b=a)});return b},setRelativeZIndex:function(a,
b,c,e){e||(e=6);var f=XF.getElEffectiveZIndex(b);e&&e>f&&(f=e);if(null===c||"undefined"===typeof c)c=0;f||c?a.each(function(){var a=d(this);"undefined"==typeof a.data("base-z-index")&&a.data("base-z-index",parseInt(a.css("z-index"),10)||0);a.css("z-index",a.data("base-z-index")+c+f)}):a.css("z-index","")},adjustHtmlForRte:function(a){a=a.replace(/<img[^>]+>/ig,function(a){if(a.match(/class="([^"]* )?smilie( |")/)){var b;if(b=a.match(/alt="([^"]+)"/))return b[1]}return a});a=a.replace(/([\w\W]|^)<a\s[^>]*data-user-id="\d+"\s+data-username="([^"]+)"[^>]*>([\w\W]+?)<\/a>/gi,
function(a,c,e,d){return c+("@"==c?"":"@")+d.replace(/^@/,"")});return a=a.replace(/(<img\s[^>]*)src="[^"]*"(\s[^>]*)data-url="([^"]+)"/gi,function(a,c,e,d){return c+'src="'+d+'"'+e})},requestAnimationTimeout:function(a,b){function c(){Date.now()-d>=b?a():g.id=e(c)}b||(b=0);var e=l.requestAnimationFrame||function(a){return l.setTimeout(a,1E3/60)},d=Date.now(),g={};g.id=e(c);g.cancel=function(){(l.cancelAnimationFrame||l.clearTimeout)(this.id)};return g}}),"function"!=typeof Object.create&&(Object.create=
function(){var a=function(){};return function(b){a.prototype=b;b=new a;a.prototype=null;return b}}()),XF.create=function(a){var b=function(){this.__construct.apply(this,arguments)};b.prototype=Object.create(a);b.prototype.__construct||(b.prototype.__construct=function(){});return b.prototype.constructor=b},XF.extend=function(a,b){var c=function(){this.__construct.apply(this,arguments)},e;c.prototype=Object.create(a.prototype);c.prototype.__construct||(c.prototype.__construct=function(){});c.prototype.constructor=
c;if("object"==typeof b){if("object"==typeof b.__backup){a=b.__backup;for(e in a)if(a.hasOwnProperty(e)){if(c.prototype[a[e]])throw Error("Method "+a[e]+" already exists on object. Aliases must be unique.");c.prototype[a[e]]=c.prototype[e]}delete b.__backup}for(e in b)b.hasOwnProperty(e)&&(c.prototype[e]=b[e])}return c},XF.classToConstructor=function(a){var b=l,c=a.split("."),e;for(e=0;e<c.length;e++)b=b[c[e]];return"function"!=typeof b?(console.error("%s is not a function.",a),!1):b},XF.Cookie={get:function(a){return(a=
(new RegExp("(^| )"+XF.config.cookie.prefix+a+"=([^;]+)(;|$)")).exec(k.cookie))?decodeURIComponent(a[2]):null},set:function(a,b,c){var e=XF.config.cookie;k.cookie=e.prefix+a+"="+encodeURIComponent(b)+(void 0===c?"":";expires="+c.toUTCString())+(e.path?";path="+e.path:"")+(e.domain?";domain="+e.domain:"")},getJson:function(a){a=this.get(a);if(!a)return{};try{return d.parseJSON(a)||{}}catch(b){return{}}},setJson:function(a,b,c){this.set(a,JSON.stringify(b),c)},remove:function(a){var b=XF.config.cookie;
k.cookie=b.prefix+a+"="+(b.path?"; path="+b.path:"")+(b.domain?"; domain="+b.domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}},XF.LocalStorage={getKeyName:function(a){return XF.config.cookie.prefix+a},get:function(a){var b=null;try{b=l.localStorage.getItem(this.getKeyName(a))}catch(e){}if(null===b){var c=this.getFallbackValue();c&&c.hasOwnProperty(a)&&(b=c[a])}return b},getJson:function(a){a=this.get(a);if(!a)return{};try{return d.parseJSON(a)||{}}catch(b){return{}}},set:function(a,b,c){try{l.localStorage.setItem(this.getKeyName(a),
b)}catch(e){c&&(c=this.getFallbackValue(),c[a]=b,this.updateFallbackValue(c))}},setJson:function(a,b,c){this.set(a,JSON.stringify(b),c)},remove:function(a){try{l.localStorage.removeItem(this.getKeyName(a))}catch(c){}var b=this.getFallbackValue();b&&b.hasOwnProperty(a)&&(delete b[a],this.updateFallbackValue(b))},getFallbackValue:function(){var a=XF.Cookie.get("ls");if(a)try{a=d.parseJSON(a)}catch(b){a={}}return a||{}},updateFallbackValue:function(a){d.isEmptyObject(a)?XF.Cookie.remove("ls"):XF.Cookie.set("ls",
JSON.stringify(a))}},XF.CrossTab=function(){function a(a){var c=XF.LocalStorage.getKeyName("__crossTab");if(a.key===c){try{var h=d.parseJSON(a.newValue)}catch(n){return}if(h&&h.event&&(a=h.event,h=h.data||null,c=b[a])){e=a;for(a=0;a<c.length;a++)c[a](h);e=null}}}var b={},c=!1,e;return{on:function(e,d){b[e]||(b[e]=[]);b[e].push(d);c||(c=!0,l.addEventListener("storage",a))},trigger:function(a,b,c){!c&&e&&e==a||XF.LocalStorage.setJson("__crossTab",{event:a,data:b,_:new Date+Math.random()})}}}(),XF.Breakpoint=
function(){function a(a){for(var b=0;b<f.length&&a!=f[b];b++)if(e==f[b])return!0;return!1}function b(a){for(var b=!1,c=0;c<f.length;c++)if(a==f[c])b=!0;else if(e==f[c])return b;return!1}function c(){var a=l.getComputedStyle(d("html")[0],":after").getPropertyValue("content").replace(/\"/g,"");if(e){if(a!=e){var b=e;e=a;d(k).trigger("breakpoint:change",[b,a])}}else e=a;return e}var e=null,f=["narrow","medium","wide","full"];c();d(l).onPassive("resize",c);return{current:function(){return e},refresh:c,
isNarrowerThan:a,isAtOrNarrowerThan:function(b){return e==b||a(b)},isWiderThan:b,isAtOrWiderThan:function(a){return e==a||b(a)}}}(),XF.JobRunner=function(){var a=!1,b,c=null,e=function(){d.ajax({url:XF.canonicalizeUrl("job.php"),type:"post",cache:!1,dataType:"json",global:!1}).always(function(a){a&&a.more&&setTimeout(e,100)})},f=function(){c&&c.hide();a=!1;d(k).trigger("job:manual-complete");b&&b.abort();b=null},g=function(){if(c)return c;var a=XF.getOverlayHtml({title:XF.phrase("processing..."),
dismissible:!1,html:'<div class="blockMessage"><span id="xfManualJobStatus">'+XF.phrase("processing...")+"</span></div>"});return c=new XF.Overlay(a,{backdropClose:!1,keyboard:!1})};return{isManualJobRunning:function(){return a},runAuto:e,runManual:function(c){var e=XF.config.job.manualUrl;if(e){if(null===c)var h=null;else h=h||[],"integer"===typeof c?h.push(c):Array.isArray(c)&&h.push.apply(h,c);if(!a){a=!0;g().show();var k=function(a){b=XF.ajax("post",e,a?{only_id:a}:null,function(b){b.jobRunner?
(d("#xfManualJobStatus").text(b.jobRunner.status||XF.phrase("processing...")),setTimeout(function(){k(a)},0)):l()},{skipDefault:!0}).fail(f)},l=function(){Array.isArray(h)&&0==h.length?f():k(h?h.shift():null)};l()}}},stopManual:f,getManualOverlay:g}}(),XF.Loader=function(){var a=XF.config.css,b=XF.config.js,c=function(c,f,g){c=c||[];f=f||[];var e=[],k=[],l;for(l=0;l<c.length;l++)b.hasOwnProperty(c[l])||e.push(c[l]);for(l=0;l<f.length;l++)a.hasOwnProperty(f[l])||k.push(f[l]);var t=(e.length?1:0)+(k.length?
1:0),u=function(){t--;0==t&&g&&g()};t?(e.length&&XF.loadScripts(e,function(){d.each(e,function(a,c){b[c]=!0});u()}),k.length&&((c=XF.config.url.css)?(c=c.replace("__SENTINEL__",k.join(",")),d.ajax({type:"GET",url:c,cache:!0,global:!1,dataType:"text",success:function(a){var b=XF.config.url.basePath;b&&(a=a.replace(/(url\(("|')?)([^"')]+)(("|')?\))/gi,function(a,c,e,d,h,f){d.match(/^([a-z]+:|\/)/i)||(d=b+d);return c+d+h}));d("<style>"+a+"</style>").appendTo("head")}}).always(function(){d.each(k,function(b,
c){a[c]=!0});u()})):(console.error("No CSS URL so cannot dynamically load CSS"),u()))):g&&g()};return{load:c,loadCss:function(a,b){c([],a,b)},loadJs:function(a,b){c(a,[],b)}}}(),XF.ClassMapper=XF.create({_map:{},_toExtend:{},add:function(a,b){this._map[a]=b},extend:function(a,b){var c=this.getObjectFromIdentifier(a);c?(c=XF.extend(c,b),this._map[a]=c):(this._toExtend[a]||(this._toExtend[a]=[]),this._toExtend[a].push(b))},getObjectFromIdentifier:function(a){var b=this._map[a],c=this._toExtend[a];if(!b)return null;
if("string"==typeof b){b=XF.classToConstructor(b);if(c){for(var e=0;e<c.length;e++)b=XF.extend(b,c[e]);delete this._toExtend[a]}this._map[a]=b}return b}}),XF.ActionIndicator=function(){var a=0,b,c=function(){a++;1==a&&(b||(b=d('<span class="globalAction"><span class="globalAction-bar" /><span class="globalAction-block"><i></i><i></i><i></i></span></span>').appendTo("body")),b.addClassTransitioned("is-active"))},e=function(){a--;0<a||(a=0,b.removeClassTransitioned("is-active"))};return{initialize:function(){d(k).on({ajaxStart:c,
"xf:action-start":c,ajaxStop:e,"xf:action-stop":e})},show:c,hide:e}}(),XF.DynamicDate=function(){var a,b,c,e,f,g,h,n=!1,m,t=function(){m=setInterval(function(){u(k)},2E4)},u=function(k){n||this.initialize();k=d(k).find("time[data-time]");var l=k.length,t=Math.floor((new Date).getTime()/1E3)-a;if(b+t>c+86400){var m=Math.floor((b+t-c)/86400);c+=86400*m;e=(e+m)%7;f=c-86400;g=c+86400;h=c-518400}for(var u=0;u<l;u++){m=k[u];var p=d(m);var v=parseInt(m.getAttribute("data-time"),10);var q=b-v+t;var w=m.xfDynType;
-2>q?(q=v-(b+t),60>q?"futureMoment"!=w&&(p.text(XF.phrase("in_a_moment")),m.xfDynType="futureMoment"):120>q?"futureMinute"!=w&&(p.text(XF.phrase("in_a_minute")),m.xfDynType="futureMinute"):3600>q?(v=Math.floor(q/60),w!=="futureMinutes"+v&&(p.text(XF.phrase("in_x_minutes",{"{minutes}":v})),m.xfDynType="futureMinutes"+v)):v<g?"latertoday"!=w&&(p.text(XF.phrase("later_today_at_x",{"{time}":p.attr("data-time-string")})),m.xfDynType="latertoday"):v<g+86400?"tomorrow"!=w&&(p.text(XF.phrase("tomorrow_at_x",
{"{time}":p.attr("data-time-string")})),m.xfDynType="tomorrow"):(604800>q||p.text(p.attr("data-date-string")),m.xfDynType="future")):60>=q?"moment"!==w&&(p.text(XF.phrase("a_moment_ago")),m.xfDynType="moment"):120>=q?"minute"!==w&&(p.text(XF.phrase("one_minute_ago")),m.xfDynType="minute"):3600>q?(v=Math.floor(q/60),w!=="minutes"+v&&(p.text(XF.phrase("x_minutes_ago",{"{minutes}":v})),m.xfDynType="minutes"+v)):v>=c?"today"!==w&&(p.text(XF.phrase("today_at_x",{"{time}":p.attr("data-time-string")})),
m.xfDynType="today"):v>=f?"yesterday"!==w&&(p.text(XF.phrase("yesterday_at_x",{"{time}":p.attr("data-time-string")})),m.xfDynType="yesterday"):v>=h?"week"!==w&&(w=e-Math.ceil((c-v)/86400),0>w&&(w+=7),p.text(XF.phrase("day_x_at_time_y",{"{day}":XF.phrase("day"+w),"{time}":p.attr("data-time-string")})),m.xfDynType="week"):"old"!==w&&(p.attr("data-full-old-date")?p.text(XF.phrase("date_x_at_time_y",{"{date}":p.attr("data-date-string"),"{time}":p.attr("data-time-string")})):p.text(p.attr("data-date-string")),
m.xfDynType="old")}};return{initialize:function(){if(!n){n=!0;var q=XF.config.time,A=d("#_xfClientLoadTime"),r=A.val();if(r&&r.length){var x=r.split(",");2==x.length&&parseInt(x[1],10)==q.now&&(a=parseInt(x[0],10),A.val(r))}a||(l.performance&&l.performance.timing?(r=l.performance.timing,a=Math.floor((r.requestStart+r.responseStart)/2E3)):a=Math.floor((new Date).getTime()/1E3)-1,A.val(a+","+q.now));b=q.now;c=q.today;e=q.todayDow;f=c-86400;g=c+86400;h=c-518400;void 0!==k.hidden?(k.hidden||t(),d(k).on("visibilitychange",
function(){k.hidden?clearInterval(m):(t(),u(k))})):t()}},refresh:u}}(),XF.KeepAlive=function(){var a,b,c=!1,e,f=function(){var a=3E3+(Math.floor(241*Math.random())+-120);120>a&&(a=120);e&&clearInterval(e);e=setInterval(k,1E3*a)},g=0,h,k=function(){c&&(!1===l.navigator.onLine&&(g++,5>=g&&(h=setTimeout(k,30))),g=0,clearTimeout(h),d.ajax({url:XF.canonicalizeUrl(a),data:{_xfResponseType:"json",_xfToken:XF.config.csrf},type:"post",cache:!1,dataType:"json",global:!1}).done(function(a){"ok"==a.status&&(m(a),
XF.CrossTab.trigger(b,a))}))},m=function(a){a.csrf&&(XF.config.csrf=a.csrf,d("input[name=_xfToken]").val(a.csrf));if("undefined"!==typeof a.user_id){var b=d(".js-activeUserChangeMessage");a.user_id==XF.config.userId||b.length||XF.addFixedMessage(XF.phrase("active_user_changed_reload_page"),{"class":"js-activeUserChangeMessage"});a.user_id==XF.config.userId&&b.length&&b.remove()}f()};return{initialize:function(){if(!c&&XF.config.url.keepAlive&&XF.config.url.keepAlive.length){c=!0;a=XF.config.url.keepAlive;
b="keepAlive"+XF.stringHashCode(a);f();XF.CrossTab.on(b,m);if(l.performance&&l.performance.navigation){var e=l.performance.navigation.type;0!=e&&1!=e||XF.CrossTab.trigger(b,{csrf:XF.config.csrf,time:XF.config.time.now,user_id:XF.config.userId})}XF.Cookie.get("csrf")||k()}},refresh:k}}(),XF.LinkWatcher=function(){var a=function(a){var b=d(this),c=b.data("proxy-href"),g=b.data("proxy-handler-last");!c||g&&g==a.timeStamp||(b.data("proxy-handler-last",a.timeStamp),d.ajax({url:XF.canonicalizeUrl(c),data:{_xfResponseType:"json",
referrer:l.location.href.replace(/#.*$/,"")},type:"post",cache:!1,dataType:"json",global:!1}))},b=function(a){if(XF.config.enableRtnProtect&&!a.isDefaultPrevented()){var b=d(this),c=b.attr("href"),g=b.data("blank-handler-last");if(c&&(!c.match(/^[a-z]:/i)||c.match(/^https?:/i))){if(b.is("[rel~=noopener]")){var h=XF.browser;if(h.chrome&&49<=h.version||h.mozilla&&52<=h.version||h.safari&&11<=h.version)return}if(!(b.closest("[contenteditable=true]").length||(c=XF.canonicalizeUrl(c),(new RegExp("^[a-z]+://"+
location.host+"(/|$|:)","i")).test(c)||g&&g==a.timeStamp||(b.data("blank-handler-last",a.timeStamp),h=navigator.userAgent,b=-1!==h.indexOf("MSIE"),g=-1!==h.indexOf("Safari")&&-1==h.indexOf("Chrome"),h=-1!==h.indexOf("Gecko/"),a.shiftKey&&h||g&&(a.shiftKey||a.altKey)||b)))){if(g)b=d('<iframe style="display: none" />').appendTo(k.body),g=b[0].contentDocument||b[0].contentWindow.document,g.__href=c,c=d("<script />",g),c[0].text="window.opener=null;window.parent=null;window.top=null;window.frameElement=null;window.open(document.__href).opener = null;",
g.body.appendChild(c[0]),b.remove();else{c=l.open(c);try{c.opener=null}catch(n){}}a.preventDefault()}}}};return{initLinkProxy:function(){var b="a[data-proxy-href]:not(.link--internal)";d(k).on("click",b,a).on("focusin",b,function(b){b=d(this);b.data("proxy-handler")||b.data("proxy-handler",!0).click(a)})},initExternalWatcher:function(){d(k).on("click","a[target=_blank]",b).on("focusin","a[target=_blank]",function(a){a=d(this);a.data("blank-handler")||a.data("blank-handler",!0).click(b)})}}}(),XF._IgnoredWatcher=
XF.create({options:{container:"body",ignored:".is-ignored",link:".js-showIgnored"},$container:null,authors:[],shown:!1,__construct:function(a){this.options=d.extend(!0,{},this.options,a||{});this.$container=a=d(this.options.container);this.updateState();a.on("click",this.options.link,d.proxy(this,"show"))},refresh:function(a){this.$container.find(a).length&&(this.shown?this.show():this.updateState())},updateState:function(){if(!this.shown){var a=this.getIgnored(),b=[];if(a.length)if(a.each(function(){var a=
d(this).data("author");a&&-1===d.inArray(a,b)&&b.push(a)}),b.length){var c={names:b.join(", ")};this.getLinks().each(function(){var a=d(this),b=a.attr("title");b&&a.attr("title",Mustache.render(b,c)).removeClass("is-hidden")})}else this.getLinks().each(function(){d(this).removeAttr("title").removeClass("is-hidden")})}},getIgnored:function(){return this.$container.find(this.options.ignored)},getLinks:function(){return this.$container.find(this.options.link)},show:function(){this.shown=!0;this.getIgnored().removeClass("is-ignored");
this.getLinks().addClass("is-hidden")},initializeHash:function(){if(l.location.hash){var a=d(l.location.hash.replace(/[^\w_#-]/g,"")),b=this.options.ignored;(b=a.is(b)?a:a.closest(b))&&b.length&&(b.removeClass("is-ignored"),a.get(0).scrollIntoView(!0))}}}),XF.IgnoreWatcher=new XF._IgnoredWatcher,XF.Overlay=XF.create({options:{backdropClose:!0,escapeClose:!0,focusShow:!0},$container:null,$overlay:null,shown:!1,__construct:function(a,b){this.options=d.extend(!0,{},this.options,b||{});this.$overlay=
a instanceof d?a:d(d.parseHTML(a));this.$overlay.attr("role",this.options.role||"dialog").attr("aria-hidden","true");this.$container=d('<div class="overlay-container" />').html(this.$overlay);this.$container.data("overlay",this).xfUniqueId();var c=this;this.options.backdropClose&&(this.$container.on("mousedown",function(a){c.$container.data("block-close",!1);d(a.target).is(c.$container)||c.$container.data("block-close",!0)}),this.$container.on("click",function(a){d(a.target).is(c.$container)&&(c.$container.data("block-close")||
c.hide());c.$container.data("block-close",!1)}));this.$container.on("click",".js-overlayClose",d.proxy(this,"hide"));this.$container.appendTo("body");XF.activate(this.$container);XF.Overlay.cache[this.$container.attr("id")]=this;this.$overlay.on("overlay:hide",d.proxy(this,"hide"));this.$overlay.on("overlay:show",d.proxy(this,"show"))},show:function(){if(!this.shown){var a=this,b=this.$overlay;this.shown=!0;b.attr("aria-hidden","false");this.$container.appendTo("body").addClassTransitioned("is-active",
function(){if(a.options.focusShow){var c=b.find(".js-overlayClose");XF.autoFocusWithin(b.find(".overlay-content"),null,c)}a.$container.trigger("overlay:shown");XF.layoutChange()});a.$container.trigger("overlay:showing");XF.Modal.open();XF.layoutChange()}},hide:function(){if(this.shown){this.shown=!1;this.$overlay.attr("aria-hidden","true");var a=this;this.$container.removeClassTransitioned("is-active",function(){a.$container.trigger("overlay:hidden");XF.Modal.close();XF.layoutChange()});a.$container.trigger("overlay:hiding");
XF.layoutChange()}},recalculate:function(){this.shown&&XF.Modal.updateScrollbarPadding()},toggle:function(){this.shown?this.hide():this.show()},destroy:function(){var a=this.$container.attr("id"),b=XF.Overlay.cache;this.$container.remove();b.hasOwnProperty(a)&&delete b[a]},on:function(){this.$container.on.apply(this.$container,arguments)},getContainer:function(){return this.$container},getOverlay:function(){return this.$overlay}}),XF.Overlay.cache={},XF.Modal=function(){var a=0,b=d("body").first(),
c=d("html"),e=function(){var a="right",e=b.hasClass("is-modalOpen")?XF.measureScrollBar()+"px":"";XF.isRtl()&&(XF.browser.chrome||XF.browser.mozilla||(a="left"));c.css("margin-"+a,e)};return{getOpenCount:function(){return a},open:function(){a++;1==a&&(b.addClass("is-modalOpen"),e())},close:function(){0<a&&(a--,0==a&&(b.removeClass("is-modalOpen"),e()))},updateScrollbarPadding:e}}(),XF.showOverlay=function(a,b){a=new XF.Overlay(a,b);a.show();return a},XF.loadOverlay=function(a,b,c){d.isFunction(b)&&
(b={init:b});b=d.extend({cache:!1,beforeShow:null,afterShow:null,onRedirect:null,init:null,show:!0},b||{});var e=function(a){if(b.beforeShow){var c=d.Event();b.beforeShow(a,c);if(c.isDefaultPrevented())return}b.show&&a.show();b.afterShow&&(c=d.Event(),b.afterShow(a,c),c.isDefaultPrevented())};if(b.cache&&XF.loadOverlay.cache[a])e(XF.loadOverlay.cache[a]);else{var f=function(d){if(d.redirect)if(b.onRedirect)b.onRedirect(d,f);else XF.ajax("get",d.redirect,function(a){f(a)});d.html&&XF.setupHtmlInsert(d.html,
function(d,f,g){var h=new XF.Overlay(XF.getOverlayHtml({html:d,title:f.title||f.h1}),c);b.init&&b.init(h);if(!b.cache)h.on("overlay:hidden",function(){h.destroy()});g();b.cache&&(XF.loadOverlay.cache[a]=h);e(h)})};return XF.ajax("get",a,function(a){f(a)})}},XF.loadOverlay.cache={},XF.NavDeviceWatcher=function(){function a(a){a!=b&&(d("html").toggleClass("has-pointer-nav",!a),b=a)}var b=!0;return{initialize:function(){d(k).onPassive({mousedown:function(){a(!1)},keydown:function(b){switch(b.which){case 9:case 13:a(!0)}}})},
toggle:a,isKeyboardNav:function(){return b}}}(),XF.ScrollButtons=function(){function a(a){if(!t){a=l.pageYOffset||k.documentElement.scrollTop;var c=A;A=a;if(a>c)"down"!=r&&(r="down",x=c);else if(a<c)"up"!=r&&(r="up",x=c);else return;if(u){if("up"!==r||100>A){z&&(z.cancel(),z=null);return}if(30>x-a)return}z||(z=XF.requestAnimationTimeout(function(){z=null;b();e()},200))}}function b(){q||(p.addClassTransitioned("is-active"),q=!0)}function c(){q&&(p.removeClassTransitioned("is-active"),q=!1)}function e(){f();
m=setTimeout(function(){c()},3E3)}function f(){clearTimeout(m)}function g(){f();b()}function h(){f()}function n(){t=!0;setTimeout(function(){t=!1},500);c()}var m=null,t=!1,u=!1,q=!1,A=l.pageYOffset||k.documentElement.scrollTop,r=null,x=null,z,p=null;return{initialize:function(){if(p&&p.length)return!1;p=d(".js-scrollButtons");if(!p.length)return!1;"up"===p.data("trigger-type")&&(u=!0);p.on({"mouseenter focus":g,"mouseleave blur":h,click:n});d(l).onPassive("scroll",a);return!0},show:b,hide:c,startHideTimer:e,
clearHideTimer:f}}(),XF.KeyboardShortcuts=function(){function a(c){c=d(c);1<c.length?c.each(function(){a(this)}):(c.is("[data-xf-key]")&&b(c[0]),c.find("[data-xf-key]").each(function(){b(this)}))}function b(a){var b=String(d(a).data("xf-key")),c=b.substr(b.lastIndexOf("+")+1),e="#"===c[0]?c.substr(1):c.toUpperCase().charCodeAt(0),h=b.toUpperCase().split("+");var f=-1!==h.indexOf("CTRL");var k=-1!==h.indexOf("ALT");h=-1!==h.indexOf("META");(f=0+f?1:0+k?2:0+h?4:0)?48<=e&&90>=e?(g[e]=g[e]||{},g[e][f]=
a):console.warn("It is not possible to specify a keyboard shortcut using this key combination (%s)",b):g[c]=a}function c(a){switch(a.which){case 27:XF.MenuWatcher.closeAll();XF.hideOverlays();XF.hideTooltips();return;case 16:case 17:case 18:case 91:return}if(f(k.activeElement)&&(!g.hasOwnProperty(a.key)||!e(g[a.key]))&&g.hasOwnProperty(a.which)){var b=0+a.ctrlKey?1:0+a.altKey?2:0+a.metaKey?4:0;g[a.which].hasOwnProperty(b)&&e(g[a.which][b])}}function e(a){a=d(a).filter(":visible");return a.length?
(XF.NavDeviceWatcher.toggle(!0),a.is(XF.getKeyboardInputs())?a.autofocus():a.is("a[href]")?a.get(0).click():a.click(),!0):!1}function f(a){switch(a.tagName){case "TEXTAREA":return!1;case "INPUT":switch(a.type){case "checkbox":case "radio":case "submit":case "reset":return!0;default:return!1}case "BODY":return!0;default:return"true"===a.contentEditable?!1:!0}}var g={};return{initialize:function(){d(k.body).onPassive("keyup",c)},initializeElements:a}}(),XF.BbBlockExpand=function(){function a(a){d(a).find(".bbCodeBlock--expandable:not(.is-expanded)").each(function(){var a=
d(this),b=a.find(".bbCodeBlock-expandContent")[0];if(b){var f,g=0,h=function(){var c=b.scrollHeight,d=b.offsetHeight;0==c||0==d?1E3<g||(f&&(clearTimeout(f),g+=200),f=setTimeout(h,g)):c>d+1?a.addClass("is-expandable"):a.removeClass("is-expandable")};h();if(!a.data("expand-check-triggered")&&(a.data("expand-check-triggered",!0),a.find("img").one("load",h),l.MutationObserver)){var k,m=!0,t=function(){m=!1;h();setTimeout(function(){m=!0},100)};var u=new MutationObserver(function(b){a.hasClass("is-expanded")?
u.disconnect():m&&(k&&clearTimeout(k),k=setTimeout(t,200))});u.observe(this,{attributes:!0,childList:!0,subtree:!0})}}})}return{watch:function(){d(k).on("click",".bbCodeBlock-expandLink",function(a){d(a.target).closest(".bbCodeBlock--expandable").addClassTransitioned("is-expanded",XF.layoutChange)});d(l).onPassive("resize",function(){a(k)});d(k).on("embed:loaded",function(){a(k)})},checkSizing:a}}(),XF.Click=function(){var a=new XF.ClassMapper,b=function(b,c){b=d(b);var e=b.data("xf-click").split(" ")||
[],f=b.data("xf-click-handlers")||{},k;for(k=0;k<e.length;k++){var l=e[k];if(l.length){if(!f[l]){var t=a.getObjectFromIdentifier(l);if(!t){console.error("Could not find handler for "+l);continue}var u=b.data("xf-"+l)||{};f[l]=new t(b,u)}if(c&&!1===f[l]._click(c))break}}b.data("xf-click-handlers",f);return f},c=XF.create({initialized:!1,eventNameSpace:null,$target:null,options:{},__construct:function(a,b){this.$target=a;this.options=XF.applyDataOptions(this.options,a.data(),b);if(!this.eventNameSpace)throw Error("Please provide an eventNameSpace for your extended click handler class");
this._init()},_init:function(){var a=new d.Event("xf-click:before-init."+this.eventNameSpace),b=!1;this.$target.trigger(a,[this]);a.isDefaultPrevented()||(b=this.init(),this.$target.trigger("xf-click:after-init."+this.eventNameSpace,[this,b]));this.initialized=!0;return b},_click:function(a){var b=new d.Event("xf-click:before-click."+this.eventNameSpace);this.$target.trigger(b,[this]);b.isDefaultPrevented()||(b=this.click(a),this.$target.trigger("xf-click:after-click."+this.eventNameSpace,[this,b,
a]));return null},init:function(){console.error("This is the abstract init method for XF.Click, which should be overridden.")},click:function(a){console.error("This is the abstract click method for XF.Click, which should be overridden.")}});return{watch:function(){d(k).on("click","[data-xf-click]",function(a){var c=a.currentTarget;c&&c.getAttribute&&(d(c).closest("[contenteditable=true]").length||b(c,a))})},initElement:b,getElementHandler:function(a,b){var c=a.data("xf-click-handlers");c||(c=XF.Click.initElement(a[0]));
return c&&c[b]?c[b]:null},register:function(b,c){a.add(b,c)},extend:function(b,c){a.extend(b,c)},newHandler:function(a){return XF.extend(c,a)},AbstractHandler:c}}(),XF.Element=function(){var a=[],b=new XF.ClassMapper,c=function(c,d,e){var f=c.data("xf-element-handlers")||{};if(f[d])return f[d];var h=b.getObjectFromIdentifier(d);if(!h)return null;e=new h(c,e||{});f[d]=e;c.data("xf-element-handlers",f);c="XF.Element.Handler."+d;a[c]=a[c]||[];a[c].push(e);e.init();return e},e=function(a){a instanceof
d&&(a=a[0]);if(a&&a.getAttribute){var b=a.getAttribute("data-xf-init");if(b){b=b.split(" ");var e=b.length;a=d(a);for(var f,h=0;h<e;h++)(f=b[h])&&c(a,f,a.data("xf-"+f))}}},f=function(a){a=d(a);1<a.length?a.each(function(){f(this)}):(a.is("[data-xf-init]")&&e(a[0]),a.find("[data-xf-init]").each(function(){e(this)}))},g=XF.create({$target:null,options:{},__construct:function(a,b){this.$target=a;this.options=XF.applyDataOptions(this.options,a.data(),b)},init:function(){console.error("This is the abstract init method for XF.Element, which should be overridden.")},
getOption:function(a){return this.options[a]}});return{register:function(a,c){b.add(a,c)},extend:function(a,c){b.extend(a,c)},initialize:f,initializeElement:e,applyHandler:c,getHandler:function(a,b){var c=a.data("xf-element-handlers");void 0===c&&(e(a),c=a.data("xf-element-handlers"));return c&&c[b]?c[b]:null},getHandlers:function(b){b="XF.Element.Handler."+b;return"undefined"!=typeof a[b]?a[b]:!1},newHandler:function(a){return XF.extend(g,a)},AbstractHandler:g}}(),XF.AutoCompleteResults=XF.create({selectedResult:0,
$results:!1,$scrollWatchers:null,resultsVisible:!1,resizeBound:!1,options:{},__construct:function(a){this.options=d.extend({onInsert:null,clickAttacher:null},a)},isVisible:function(){return this.resultsVisible},hideResults:function(){this.resultsVisible=!1;this.$results&&this.$results.hide();this.stopScrollWatching()},stopScrollWatching:function(){this.$scrollWatchers&&(this.$scrollWatchers.off("scroll.autocomplete"),this.$scrollWatchers=null)},showResults:function(a,b,c,e){var f;if(b){this.resultsVisible=
!1;this.$results?this.$results.hide().empty():(this.$results=d("<ul />").css({position:"absolute",display:"none"}).addClass("autoCompleteList").attr("role","listbox").appendTo(k.body),XF.setRelativeZIndex(this.$results,c,1));a=new RegExp("("+XF.regexQuote(a)+")","i");for(f in b)if(b.hasOwnProperty(f)){var g=b[f];var h=d("<li />").css("cursor","pointer").attr("unselectable","on").attr("role","option").mouseenter(d.proxy(this,"resultMouseEnter"));this.options.clickAttacher?this.options.clickAttacher(h,
d.proxy(this,"resultClick")):h.click(d.proxy(this,"resultClick"));"string"==typeof g?h.html(XF.htmlspecialchars(g).replace(a,"<strong>$1</strong>")).data("autocomplete",g):(h.html(XF.htmlspecialchars(g.text).replace(a,"<strong>$1</strong>")).data("autocomplete",g.text),"undefined"!==typeof g.icon?h.prepend(d('<img class="autoCompleteList-icon" />').attr("src",g.icon)):"undefined"!==typeof g.iconHtml&&h.prepend(d('<span class="autoCompleteList-icon" />').html(g.iconHtml)));h.appendTo(this.$results)}if(this.$results.children().length){this.selectResult(0,
!0);if(!this.resizeBound)d(l).onPassive("resize",d.proxy(this,"hideResults"));this.$results.css({top:"",left:"",right:"",bottom:""});var n=this.$results,m=function(a){d.isFunction(a)&&(a=a(n,c));if(!a){var b=c.offset();a={top:b.top+c.outerHeight(),left:b.left};XF.isRtl()&&(a.right=d("html").width()-b.left-c.outerWidth(),a.left="auto")}return a};this.stopScrollWatching();(b=c.parents().filter(function(){switch(d(this).css("overflow-x")){case "scroll":case "auto":return!0;default:return!1}}))&&b.length&&
(b.on("scroll.autocomplete",function(){n.css(m(e))}),this.$scrollWatchers=b);this.$results.css(m(e)).show();this.resultsVisible=!0}}else this.hideResults()},resultClick:function(a){a.stopPropagation();this.insertResult(d(a.currentTarget).data("autocomplete"));this.hideResults()},resultMouseEnter:function(a){this.selectResult(d(a.currentTarget).index(),!0)},selectResult:function(a,b){if(this.$results){var c=this.selectedResult=b?a:this.selectedResult+a;a=this.$results.children();a.each(function(a){a==
c?d(this).addClass("is-selected"):d(this).removeClass("is-selected")});if(0>c||c>=a.length)this.selectedResult=-1}},insertSelectedResult:function(){var a,b=!1;if(!this.resultsVisible)return!1;0<=this.selectedResult&&(a=this.$results.children().get(this.selectedResult))&&(this.insertResult(d(a).data("autocomplete")),b=!0);this.hideResults();return b},insertResult:function(a){if(this.options.onInsert)this.options.onInsert(a)}}),d(XF.onPageLoad))}(window.jQuery,window,document);
